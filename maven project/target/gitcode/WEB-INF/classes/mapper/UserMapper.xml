<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tes1.dao.managerDao">
<select id="getUser" parameterType="com.tes1.entity.User" resultType="com.tes1.entity.User">
		SELECT * FROM users where UserName=#{username} and Password=#{password}
	</select>
	<select id="getParent" parameterType="int" resultType="com.tes1.entity.Tree">
		select tree.TreeID,Text,tree.ParentID,Url from tree,roles,userroles,users,rolepermissions
where roles.RoleID=userroles.RoleID
and roles.RoleID=rolepermissions.RoleID
and users.UserID=userroles.UserID
and tree.TreeID=rolepermissions.TreeID
and tree.ParentID=rolepermissions.ParentID
and users.userid=#{userid}
</select>

</mapper>
