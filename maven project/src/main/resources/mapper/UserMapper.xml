<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tes1.dao.managerDao">
<select id="getUser" parameterType="com.tes1.entity.User" resultType="com.tes1.entity.User">
		SELECT * FROM user where ycode=#{ycode} and ypassword=#{ypassword}
	</select>	
<select id="getPmenu" parameterType="com.tes1.entity.User" resultType="com.tes1.entity.Pmenu">
		select title,url,ptype,pmcode from pmenu,user where pmenu.ptype=user.ytype AND pmenu.ptype=#{ytype}
	</select>
<select id="getCmenu" parameterType="com.tes1.entity.Pmenu" resultType="com.tes1.entity.Cmenu">
		select gname from pmenu,cmenu,menurelation 
		where 
		pmenu.pmcode=menurelation.p1code
		AND cmenu.gcode=menurelation.g1code
        AND pmcode=#{pmcode}
	</select>

<select id="findById" parameterType="com.tes1.entity.Tree" resultType="com.tes1.entity.Tree">
		select * from tree where id=#{id}
	</select>	
	<select id="findByPid" parameterType="com.tes1.entity.Tree" resultType="com.tes1.entity.Tree">
		select * from tree where pid=#{pid}
	</select>
</mapper>
